<include href="views/includes/header.html"></include>
<include href="views/includes/navbar.html"></include>

<div class="container w-50">
<!--    Define row for basic info about listing (Image, name, price, brand, and description)-->
    <div class="row">
        <img src="images/listings/{{ @listing->getCode() }}.jpg" alt="An image of {{ @listing->getCode() }}" class="rounded col-8">
        <div class="col-4">
<!--            Display sale price if on sale, otherwise display base price-->
            <check if="{{ !empty(@listing->getSale()) }}">
                <true><h2>{{ @listing->getName() }} - ${{ @listing->getPrice() }}</h2></true>
                <false><h2 class="sale">{{ @listing->getName() }} - ${{ @listing->getPrice() * @listing->getSale() }}
                    ({{ (1 - @listing->getSale()) * 100 }}% off!</h2></false>
            </check>
            <h3>{{ @listing->getBrand() }}</h3>
            <br>
            <p>{{ @listing->getDesc() }}</p>

        </div>
    </div>

    <br><hr>

<!--    Define row for listings specs sheet/table -->
    <div class="row">
        <h2 class="text-center">Specs</h2>
        <table>
            <tbody>
            <repeat group="{{ @listing->getSpecs() }}" key="{{ @specName }}" value="{{ @specVal }}" >
                <tr>
                    <td>{{ @specName }}</td>
                    <td>{{ @specVal }}</td>
                </tr>
            </repeat>
            </tbody>
        </table>
    </div>
</div>

<include href="views/includes/footer.html"></include>